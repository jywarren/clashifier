<html>
<head>
	<script src="/javascripts/prototype.js" type="text/javascript"></script>
	<script src="/javascripts/clashifier.js" type="text/javascript"></script>
	<meta name="viewport" content="width=device-width; height=device-height; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;"/>
	<link rel="stylesheet" type="text/css" href="/stylesheets/image.css">
</head>

<body onLoad="setup()">

	<script>
	image = new Image()
	image_url = "<%= params[:url] %>" // later we'll actually store images for reference
	function setup() {

		Clash.initialize()
		image.onload = function() {
			$C.drawImage(image,0,0)//,Clash.width,Clash.height)
		}
		image.src = "/classifier/proxy?url=<%= params[:url] %>"

	}
	</script>

	<div id="header">
		<a href="/">Home</a> | <b>Classify by "coloring" on an image </b> | 
		Author: <input type="text" id="author" value="anonymous" /> 
		 | 
		<span id="palette">
		<a id="red" href="javascript:void(0);" onDblClick="Clash.select_class('red',true)" onClick="Clash.select_class('red')">click to name</a> 
		<a id="blue" href="javascript:void(0);" onDblClick="Clash.select_class('blue',true)" onClick="Clash.select_class('blue')">click to name</a> 
		<a id="yellow" href="javascript:void(0);" onDblClick="Clash.select_class('yellow',true)" onClick="Clash.select_class('yellow')">click to name</a> 
		<a id="green" href="javascript:void(0);" onDblClick="Clash.select_class('green',true)" onClick="Clash.select_class('green')">click to name</a> 
		</span>

		<span id="notification"></span>
	</div>

	<canvas id="clashifier" width="100%" height="100%"></canvas>  


</body>
</html>
